periodics:
 - interval: 60m
   name: periodic_fast_autoscaling_test_dev
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=60
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_dev.sh
 - interval: 60m
   name: periodic_fast_autoscaling_test_prod_small
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=60
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_prod_small.sh
 - interval: 6h
   name: periodic_fast_autoscaling_test_prod_large
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=180
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_prod_large.sh
 - interval: 60m
   name: periodic_fast_autoscaling_test_prod_hermes_small
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=60
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_prod_hermes_small.sh
 - interval: 6h
   name: periodic_fast_autoscaling_test_prod_hermes_large
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=180
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_prod_hermes_large.sh
 - interval: 60m
   name: periodic_fast_autoscaling_test_experimental_small
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=60
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_experimental_small.sh
 - interval: 6h
   name: periodic_fast_autoscaling_test_experimental_large
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=180
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_experimental_large.sh
 - interval: 60m
   name: periodic_fast_autoscaling_test_experimental_ssd_small
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=60
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_experimental_ssd_small.sh
 - interval: 6h
   name: periodic_fast_autoscaling_test_experimental_ssd_large
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=180
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/prow/test_experimental_ssd_large.sh
 - interval: 30m
   name: periodic_fast_autoscaling_generate_metrics_file
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
    containers:
    - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
      args:
      - --clean
      - --repo=gke-internal.googlesource.com/gke-autoscaling
      - --timeout=20
      - --scenario=execute
      - --upload=gs://gob-prow/logs
      - -- # end bootstrap args, scenario args below
      - /workspace/gke-internal.googlesource.com/gke-autoscaling/test/fast-scaling-tests/generate_metrics_file.sh

 # gke fast autoscaling agent jobs
 - interval: 30m
   name: ci-fast-autoscaling-agent-image-build
   labels:
     preset-service-account: "true"
     preset-dind-enabled: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --clean
       - --repo=gke-internal.googlesource.com/GoogleCloudPlatform/k8s-stackdriver=fast-autoscaling
       - --root=/go/src
       - --timeout=30
       - --scenario=execute
       - --upload=gs://gob-prow/logs
       - -- # stop bootstrap flags
       - --env=TAG=ci_latest
       - --env=REGISTRY=gcr.io/gke-autoscaling-gcr
       - ./hack/release-ci.sh
       # docker-in-docker needs privileged mode
       securityContext:
         privileged: true

 - interval: 2h
   name: ci-fast-autoscaling-agent-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=320
       - --repo=gke-internal.googlesource.com/GoogleCloudPlatform/k8s-stackdriver=fast-autoscaling
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/fast-autoscaling-agent/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:FastAutoscalingAgent\]
       - --timeout=5h


   # gke autoscaling jobs
 - interval: 30m
   name: ci-autoscaling-image-build
   labels:
     preset-service-account: "true"
     preset-dind-enabled: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --clean
       - --repo=gke-internal.googlesource.com/gke-autoscaling
       - --root=/go/src
       - --timeout=30
       - --scenario=execute
       - --upload=gs://gob-prow/logs
       - -- # stop bootstrap flags
       - --env=TAG=ci_latest
       - --env=REGISTRY=gcr.io/gke-autoscaling-gcr
       - ./hack/release-ci.sh
       # docker-in-docker needs privileged mode
       securityContext:
         privileged: true

   # gke autoscaling jobs
 - interval: 30m
   name: ci-autoscaling-image-build-1-3
   labels:
     preset-service-account: "true"
     preset-dind-enabled: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --clean
       - --repo=gke-internal.googlesource.com/gke-autoscaling=cluster-autoscaler-release-1.3
       - --root=/go/src
       - --timeout=30
       - --scenario=execute
       - --upload=gs://gob-prow/logs
       - -- # stop bootstrap flags
       - --env=TAG=ci_latest_1_3
       - --env=REGISTRY=gcr.io/gke-autoscaling-gcr
       - ./cluster-autoscaler/hack/release-ci.sh
       # docker-in-docker needs privileged mode
       securityContext:
         privileged: true


 - interval: 2h
   name: ci-autoscaling-ca-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=440
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:ClusterSizeAutoscalingScaleUp\]|\[Feature:ClusterSizeAutoscalingScaleDown\]
       - --timeout=7h

 - interval: 2h
   name: ci-autoscaling-ca-gpu-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=150
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-west1-b
       - --gcp-project-type=gpu-project
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --env=TESTED_GPU_TYPE=nvidia-tesla-k80
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:ClusterSizeAutoscalingGpu\]
       - --timeout=2h

 - interval: 2h
   name: ci-autoscaling-nap-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=320
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:NodeAutoProvisioning\]
       - --timeout=5h

 - interval: 2h
   name: ci-autoscaling-nap-gpu-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=320
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-west1-b
       - --gcp-project-type=gpu-project
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:NodeAutoProvisioningWithGPU\]
       - --timeout=5h

 - interval: 4h
   name: ci-autoscaling-nap-multizonal-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=320
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-central1-f
       - --gke-node-locations=us-central1-f,us-central1-a,us-central1-b
       - --gke-shape={"default":{"Nodes":1,"MachineType":"n1-standard-2"}}
       - --gke-single-zone-node-instance-group=false
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:NodeAutoProvisioningMultizonal\]
       - --timeout=5h

 - interval: 4h
   name: ci-autoscaling-nap-regional-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=320
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-region=us-central1
       - --gke-create-command=beta container clusters create --enable-autoprovisioning --max-cpu=64 --max-memory=1000
       - --gke-node-locations=us-central1-f,us-central1-a,us-central1-b
       - --gke-shape={"default":{"Nodes":1,"MachineType":"n1-standard-2"}}
       - --gke-single-zone-node-instance-group=false
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:NodeAutoProvisioningMultizonal\]
       - --timeout=5h

 - interval: 2h
   name: ci-autoscaling-ca-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=440
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:ClusterSizeAutoscalingScaleUp\]|\[Feature:ClusterSizeAutoscalingScaleDown\]
       - --timeout=7h

 - interval: 2h
   name: ci-autoscaling-ca-gpu-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=150
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-west1-b
       - --gcp-project-type=gpu-project
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --env=TESTED_GPU_TYPE=nvidia-tesla-k80
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:ClusterSizeAutoscalingGpu\]
       - --timeout=2h

 - interval: 2h
   name: ci-autoscaling-nap-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=320
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:NodeAutoProvisioning\]
       - --timeout=5h

 - interval: 2h
   name: ci-autoscaling-nap-gpu-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-service-account: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=320
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=gke-autoscaling-cluster
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-zone=us-west1-b
       - --gcp-project-type=gpu-project
       - --ginkgo-parallel=1
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/cluster-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=--ginkgo.focus=\[Feature:NodeAutoProvisioningWithGPU\]
       - --timeout=5h

 - interval: 2h
   name: ci-autoscaling-vpa-full-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-full-latest
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=full-vpa
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-full-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=e2e-1-11-vpa-full
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-full-vpa-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=full-vpa
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-recommender-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-recommender-latest
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-recommender.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling --enable-stackdriver-kubernetes
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=recommender
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-recommender-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-recommender-1-11
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-recommender-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling --enable-stackdriver-kubernetes
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=recommender
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-updater-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-updater-latest
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-updater.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=updater
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-updater-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-updater-1-11
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-updater-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=updater
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-admission-controller-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-admission-controller-latest
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-admission-controller.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=admission-controller
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-admission-controller-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=k8s.io/autoscaler=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-admission-controller-1-11
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-admission-controller-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../vertical-pod-autoscaler/hack/run-e2e-tests.sh
       - --test-cmd-args=admission-controller
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-actuation-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-actuation-latest
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-actuation.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/vertical-pod-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=actuation
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-actuation-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-actuation-1-11
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-actuation-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/vertical-pod-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=actuation
       - --timeout=60m

 - interval: 2h
   name: ci-autoscaling-vpa-actuation-ca-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-actuation-ca-latest
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-actuation.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling --enable-autoscaling --num-nodes=6 --min-nodes=6 --max-nodes=30
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/vertical-pod-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=actuation-ca
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-actuation-ca-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-actuation-ca-1-11
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-actuation-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling --enable-autoscaling --num-nodes=6 --min-nodes=6 --max-nodes=30
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/vertical-pod-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=actuation-ca
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-actuation-nap-e2e
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-actuation-nap-latest
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-actuation.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling --enable-autoscaling --enable-autoprovisioning --num-nodes=6 --min-nodes=6 --max-nodes=30 --max-cpu=40 --max-memory=400
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/vertical-pod-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=actuation-nap
       - --timeout=60m
 - interval: 2h
   name: ci-autoscaling-vpa-actuation-nap-e2e-1-11
   labels:
     preset-k8s-ssh: "true"
     preset-vpa-alpha: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=80
       - --repo=gke-internal.googlesource.com/gke-autoscaling=master
       - --root=/go/src
       - --upload=gs://gob-prow/logs
       - --scenario=kubernetes_e2e
       - --
       - --check-leaked-resources
       - --cluster=vpa-actuation-nap-1-11
       - --deployment=gke
       - --extract=gs://kubernetes-release-gke-internal/ci/latest-autoscaling-vpa-actuation-1-11.txt
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=prow-gob-vpa
       - --gcp-zone=us-central1-f
       - --ginkgo-parallel=1
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --enable-vertical-pod-autoscaling --enable-autoscaling --enable-autoprovisioning --num-nodes=6 --min-nodes=6 --max-nodes=30 --max-cpu=40 --max-memory=400
       - --gke-environment=test
       - --provider=gke
       - --test=false
       - --test-cmd=../test/vertical-pod-autoscaler/e2e/hack/run-e2e.sh
       - --test-cmd-args=actuation-nap
       - --timeout=60m

# Scalability
 - cron: '0 0 31 2 *' # manual job, set to Feb 31st to never be triggered automatically
   name: ci-kubernetes-e2e-gke-large-performance
   labels:
     preset-service-account: "true"
     preset-k8s-ssh: "true"
   spec:
     containers:
     - image: gcr.io/gke-test-infra/kubekins-e2e:v20181127-ae09170-master
       args:
       - --timeout=600
       - --bare
       - --scenario=kubernetes_e2e
       - --
       - --cluster=gke-scale-cluster
       - --deployment=gke
       - --extract=ci/latest
       - --gcp-cloud-sdk=gs://cloud-sdk-testing/ci/staging
       - --gcp-node-image=gci
       - --gcp-project=kubernetes-scale
       - --gcp-zone=us-east1-a
       - --gke-command-group=beta
       - --gke-create-command=container clusters create --quiet --enable-ip-alias --enable-vertical-pod-autoscaling --create-subnetwork name=ip-alias-subnet --cluster-ipv4-cidr=/12 --services-ipv4-cidr=/19
       - --gke-environment=test
       - '--gke-shape={"default":{"Nodes":1999,"MachineType":"n1-standard-1"},"heapster-pool":{"Nodes":1,"MachineType":"n1-standard-8"}}'
       - --provider=gke
       - --test_args=--ginkgo.focus=\sDensity\s\[Feature\:Performance\] # Just density for now
       - --timeout=570m
